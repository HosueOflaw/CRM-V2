<app-go-back></app-go-back>
<div class="p-6 bg-base-200 min-h-screen flex flex-col gap-6">
  <!-- ๐น ุงูุนููุงู -->
  <h2 class="text-2xl font-bold text-center text-primary">๐ ุงุณุชูุงู ุงูุฃุญูุงู</h2>
  
  <!-- ๐น ูููุฐุฌ ุงูุจุญุซ -->
  <form [formGroup]="filterForm" class="bg-white p-6 rounded-xl shadow flex flex-wrap gap-4 justify-center items-end">
    <div>
      <label class="label text-gray-700 font-semibold">ูู ุชุงุฑูุฎ</label>
      <input type="date" formControlName="fromDate" class="input input-bordered w-full" />
    </div>

    <div>
      <label class="label text-gray-700 font-semibold">ุฅูู ุชุงุฑูุฎ</label>
      <input type="date" formControlName="toDate" class="input input-bordered w-full" />
    </div>

    <div class="flex gap-2 mt-4">
      <button type="button" class="btn btn-primary" (click)="search()">๐ ุจุญุซ</button>
      <button type="button" class="btn btn-outline" (click)="reset()">โฉ๏ธ ุชุฑุงุฌุน</button>
      
    </div>
  </form>

  <!-- ๐น ุญูู ุงูุจุญุซ ุฏุงุฎู ุงูุฌุฏูู -->
  <div class="flex justify-between items-center bg-white p-4 rounded-xl shadow">
    <input [(ngModel)]="searchText" placeholder="ุงุจุญุซ ุจุงูููุฏ ุฃู ุงูุงุณู ุฃู ุงููุญููุฉ" (input)="autoSearch()" class="input input-bordered w-1/2" />
    <button class="btn btn-success" (click)="exportToExcel()">๐ฅ ุชุญููู Excel</button>
  </div>

  <!-- ๐น ุฌุฏูู ุงููุชุงุฆุฌ -->
  <div class="overflow-x-auto bg-white rounded-xl shadow">
    <table class="table table-zebra w-full text-sm">
      <thead>
        <tr class="bg-base-100 text-gray-700">
          <th>ุงูููุฏ</th>
          <th>ุงููููู</th>
          <th>ุงูุงุณู</th>
          <th>ุงููุญููุฉ</th>
          <th>ุงูุฑูู ุงูุขูู</th>
          <th>ุฃูู ุฏุฑุฌุฉ</th>
          <th>ุงูุงุณุชุฆูุงู</th>
          <th>ุงูุชูููุฒ</th>
          <th>ุงูุฏุงุฆุฑุฉ</th>
          <th>ุชุงุฑูุฎ ุงูุญูู</th>
          <th>ููุทูู ุงูุญูู</th>
          <th>ูููุฉ ุงููุทุงูุจุฉ</th>
          <th>ุงูุฏุฑุฌุฉ</th>
          <th>ุงูุญุถูุฑ</th>
          <th>ุงูููุธู</th>
          <th>ุฑูู ุงูุจุงุชุด</th>
          <th>ุงูุญุงูุฉ</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let r of filteredResults">
          <td>{{ r.code }}</td>
          <td>{{ r.client }}</td>
          <td>{{ r.name }}</td>
          <td>{{ r.court }}</td>
          <td>{{ r.autoNumber }}</td>
          <td>{{ r.firstDegree }}</td>
          <td>{{ r.appeal }}</td>
          <td>{{ r.cassation }}</td>
          <td>{{ r.circle }}</td>
          <td>{{ r.judgmentDate | date:'yyyy-MM-dd' }}</td>
          <td>{{ r.judgmentText }}</td>
          <td>{{ r.claimValue | number }}</td>
          <td>{{ r.degree }}</td>
          <td>{{ r.attendance }}</td>
          <td>{{ r.employee }}</td>
          <td>{{ r.batchNumber }}</td>
          <td>{{ r.status }}</td>
        </tr>

        <tr *ngIf="filteredResults.length === 0">
          <td colspan="17" class="text-center text-gray-500 py-6">ูุง ุชูุฌุฏ ุจูุงูุงุช ูุทุงุจูุฉ ๐</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
