<div class="p-8 min-h-screen"
     style="background-color: var(--surface-ground);">
  <!-- ๐ท๏ธ ุงูุนููุงู -->
  <div class="flex items-center justify-between mb-8">
    <h2 class="text-3xl font-bold flex items-center gap-2"
        style="color: var(--text-color);">
      <i class="fa-solid fa-folder-plus" style="color: var(--primary-color);"></i>
      ุงููููุงุช ุงูุฌุฏูุฏุฉ
    </h2>

    <button class="btn btn-primary flex items-center gap-2" (click)="openUploadModal()">
      <i class="fa-solid fa-upload"></i>
      ุฑูุน ููู ุฌุฏูุฏ
    </button>
  </div>

  <!-- ๐ ุนุฑุถ ุงููููุงุช -->
  <div *ngIf="files.length; else emptyState" class="grid md:grid-cols-2 xl:grid-cols-3 gap-6">
    <div
      *ngFor="let file of files"
      class="rounded-2xl p-5 shadow-sm hover:shadow-lg transition-all border-t-4"
      style="background-color: var(--surface-card); border-top-color: var(--primary-color);"
    >
      <div class="flex justify-between items-start mb-3">
        <div>
          <h3 class="font-semibold text-lg" style="color: var(--text-color);">{{ file.name }}</h3>
          <p class="text-sm" style="color: var(--text-color-secondary);">ุงูููุน: {{ file.type }}</p>
        </div>
        <span class="badge badge-outline" style="border-color: var(--surface-border); color: var(--text-color);">{{ file.date }}</span>
      </div>

      <p class="text-sm leading-relaxed mb-3"
         style="color: var(--text-color-secondary);">
        {{ file.note || 'ูุง ุชูุฌุฏ ููุงุญุธุงุช' }}
      </p>

      <div class="flex justify-between items-center text-sm border-t pt-2"
           style="border-color: var(--surface-border); color: var(--text-color-secondary);">
        <span>ุงูุญุงูุฉ: <span class="font-medium" style="color: var(--green-500);">ุฌุฏูุฏ</span></span>
        <button class="btn btn-sm btn-outline btn-error" (click)="removeFile(file)">๐๏ธ ุญุฐู</button>
      </div>
    </div>
  </div>

  <ng-template #emptyState>
    <div class="text-center mt-20 flex flex-col items-center"
         style="color: var(--text-color-secondary);">
      <i class="fa-solid fa-folder-open text-6xl mb-3"></i>
      <p>ูุง ุชูุฌุฏ ูููุงุช ุจุนุฏ.</p>
      <button class="btn btn-primary mt-4" (click)="openUploadModal()">๐ค ุฑูุน ุฃูู ููู</button>
    </div>
  </ng-template>

  <!-- ๐ค Modal ุฑูุน ููู -->
  <dialog #uploadModal class="modal modal-open" *ngIf="showUploadModal">
    <div class="modal-box w-11/12 max-w-lg rounded-2xl"
         style="background-color: var(--surface-card);">
      <h3 class="font-bold text-lg mb-4" style="color: var(--text-color);">ุฑูุน ููู ุฌุฏูุฏ</h3>

      <form (ngSubmit)="uploadFile()" class="space-y-4">
        <div>
          <label class="text-sm" style="color: var(--text-color);">ุงุณู ุงูููู</label>
          <input type="text" [(ngModel)]="newFile.name" name="name" required
                 class="input input-bordered w-full"
                 style="border-color: var(--surface-border); background-color: var(--surface-ground); color: var(--text-color);" />
        </div>

        <div>
          <label class="text-sm" style="color: var(--text-color);">ููุน ุงูููู</label>
          <select [(ngModel)]="newFile.type" name="type" required
                  class="select select-bordered w-full"
                  style="border-color: var(--surface-border); background-color: var(--surface-ground); color: var(--text-color);">
            <option value="" disabled selected>ุงุฎุชุฑ ููุน ุงูููู</option>
            <option>PDF</option>
            <option>Word</option>
            <option>Excel</option>
            <option>ุตูุฑุฉ</option>
          </select>
        </div>

        <div>
          <label class="text-sm" style="color: var(--text-color);">ููุงุญุธุงุช</label>
          <textarea [(ngModel)]="newFile.note" name="note"
                    class="textarea textarea-bordered w-full"
                    style="border-color: var(--surface-border); background-color: var(--surface-ground); color: var(--text-color);"></textarea>
        </div>

        <div>
          <label class="text-sm" style="color: var(--text-color);">ุงุฎุชูุงุฑ ุงูููู</label>
          <input type="file" (change)="onFileSelect($event)"
                 class="file-input file-input-bordered w-full"
                 style="border-color: var(--surface-border); background-color: var(--surface-ground); color: var(--text-color);" />
        </div>

        <div class="flex justify-end gap-2 pt-3">
          <button type="button" class="btn btn-outline" (click)="closeUploadModal()">ุฅูุบุงุก</button>
          <button type="submit" class="btn btn-primary">ุฑูุน</button>
        </div>
      </form>
    </div>
  </dialog>
</div>
