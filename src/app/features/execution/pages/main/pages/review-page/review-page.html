<div class="p-6 min-h-screen"
     style="background-color: var(--surface-ground);">
  <h1 class="text-2xl font-bold mb-6 text-center"
      style="color: var(--primary-color);">
    مراجعة الملفات
  </h1>

  <!-- Filters Section -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
    <div>
      <label class="block font-semibold mb-1" style="color: var(--text-color);">تاريخ الإدخال</label>
      <input
        type="date"
        class="input input-bordered w-full"
        style="border-color: var(--surface-border); background-color: var(--surface-card); color: var(--text-color);"
        [(ngModel)]="startDate"
        (change)="applyFilters()"
      />
    </div>
    <div>
      <label class="block font-semibold mb-1" style="color: var(--text-color);">تاريخ الإجراء</label>
      <input
        type="date"
        class="input input-bordered w-full"
        style="border-color: var(--surface-border); background-color: var(--surface-card); color: var(--text-color);"
        [(ngModel)]="endDate"
        (change)="applyFilters()"
      />
    </div>
    <div>
      <label class="block font-semibold mb-1" style="color: var(--text-color);">تاريخ المراجعة</label>
      <input
        type="date"
        class="input input-bordered w-full"
        style="border-color: var(--surface-border); background-color: var(--surface-card); color: var(--text-color);"
        [(ngModel)]="reviewDate"
      />
    </div>
    <div>
      <label class="block font-semibold mb-1" style="color: var(--text-color);">بحث</label>
      <input
        type="text"
        placeholder="ابحث بالاسم أو الكود أو الوكيل..."
        class="input input-bordered w-full"
        style="border-color: var(--surface-border); background-color: var(--surface-card); color: var(--text-color);"
        [(ngModel)]="searchTerm"
        (input)="applyFilters()"
      />
    </div>
  </div>

  <!-- Table -->
  <div class="overflow-x-auto rounded-xl shadow"
       style="background-color: var(--surface-card);">
    <table class="table w-full text-sm">
      <thead style="background-color: var(--surface-section); color: var(--text-color);"
             class="font-semibold">
        <tr>
          <th>الكود</th>
          <th>الاسم</th>
          <th>الحالة</th>
          <th>سبب المديونية</th>
          <th>المدني</th>
          <th>الآلي</th>
          <th>الجنسية</th>
          <th>رقم الباتش</th>
          <th>الموكّل</th>
          <th>التاريخ</th>
          <th>تاريخ الإجراء</th>
          <th>تاريخ المراجعة</th>
          <th>ملاحظات</th>
          <th>ID</th>
          <th>الإجراء</th>
          <th>الإجراء القادم</th>
          <th>مكان الملف</th>
          <th>المحكمة</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let record of paginatedRecords; let i = index"
          [style.background-color]="i % 2 === 0 ? 'var(--surface-card)' : 'var(--surface-ground)'"
          style="color: var(--text-color); transition: background-color 0.2s;"
        >
          <td>{{ record.code }}</td>
          <td>{{ record.name }}</td>
          <td>{{ record.status }}</td>
          <td>{{ record.debtReason }}</td>
          <td>{{ record.civilId }}</td>
          <td>{{ record.systemNo }}</td>
          <td>{{ record.nationality }}</td>
          <td>{{ record.batchNo }}</td>
          <td>{{ record.agent }}</td>
          <td>{{ record.date | date : 'yyyy-MM-dd' }}</td>
          <td>{{ record.actionDate | date : 'yyyy-MM-dd' }}</td>
          <td>{{ record.reviewDate | date : 'yyyy-MM-dd' }}</td>
          <td>{{ record.notes }}</td>
          <td>{{ record.id }}</td>
          <td>{{ record.action }}</td>
          <td>{{ record.nextAction }}</td>
          <td>{{ record.fileLocation }}</td>
          <td>{{ record.court }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="flex justify-between items-center mt-4">
    <button
      class="btn btn-sm btn-outline"
      (click)="prevPage()"
      [disabled]="currentPage === 1"
    >
      السابق
    </button>
    <span class="font-semibold"
          style="color: var(--primary-color);"
      >الصفحة {{ currentPage }} من
      {{ 1 }}</span
    >
    <button
      class="btn btn-sm btn-outline"
      (click)="nextPage()"
      [disabled]="currentPage * pageSize >= filteredRecords.length"
    >
      التالي
    </button>
  </div>
</div>
