<div dir="rtl" class="flex flex-col h-screen font-sans text-sm"
     style="background-color: var(--surface-ground);">

  <!-- ========================================== -->
  <!-- 1. الشريط العلوي (العنوان والأدوات)      -->
  <!-- ========================================== -->
  <div class="border-b p-2 flex justify-between items-center shadow-sm"
       style="background-color: var(--surface-card); border-color: var(--surface-border);">
    
    <!-- العنوان (يمين الشاشة) -->
    <div class="font-bold px-2 border-l"
         style="color: var(--text-color); border-color: var(--surface-border);">
      طباعة تكاليف بالوفاء
    </div>

    <!-- الأدوات (يسار الشاشة) -->
    <div class="flex items-center gap-2">
      
      <!-- التاريخ -->
      <div class="flex items-center gap-2 px-2 py-1 rounded border"
           style="background-color: var(--surface-ground); border-color: var(--surface-border);">
        <label class="font-bold text-xs" style="color: var(--text-color);">تاريخ البعثية</label>
        <input type="date" 
               [(ngModel)]="selectedDate" 
               class="input input-xs input-ghost h-6 p-0"
               style="background-color: var(--surface-card); color: var(--text-color);" />
      </div>

      <!-- زر إكسل -->
      <button class="btn btn-sm btn-outline px-6 font-normal rounded-sm h-8 min-h-0"
              style="background-color: var(--surface-hover); color: var(--text-color); border-color: var(--surface-border);"
              (click)="exportExcel()">
        اكسيل
      </button>

      <!-- زر تكاليف -->
      <button class="btn btn-sm btn-outline px-6 font-normal rounded-sm h-8 min-h-0"
              style="background-color: var(--surface-hover); color: var(--text-color); border-color: var(--surface-border);"
              (click)="showCosts()">
        تكاليف
      </button>

    </div>
  </div>

  <!-- ========================================== -->
  <!-- 2. شريط البحث (ممتد بالعرض)              -->
  <!-- ========================================== -->
  <div class="p-1 border-b"
       style="background-color: var(--surface-card); border-color: var(--surface-border);">
    <div class="relative w-full">
      <!-- أيقونة البحث -->
      <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"
             style="color: var(--text-color-secondary);">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      </div>
      <!-- حقل البحث -->
      <input type="text" 
             [(ngModel)]="searchText"
             class="input input-sm input-bordered w-full pr-10 focus:outline-none rounded-none"
             style="background-color: var(--surface-ground); border-color: var(--surface-border); color: var(--text-color);"
             placeholder="" />
    </div>
  </div>

  <!-- ========================================== -->
  <!-- 3. شريط التجميع (Grouping Bar)           -->
  <!-- ========================================== -->
  <div class="border-b p-1 px-4 text-xs select-none"
       style="background-color: var(--surface-section); border-color: var(--surface-border); color: var(--text-color-secondary);">
    Drag a column header here to group by that column
  </div>
</div>