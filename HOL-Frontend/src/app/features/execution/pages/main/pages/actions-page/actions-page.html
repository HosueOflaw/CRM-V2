<div class="p-6 min-h-screen"
     style="background-color: var(--surface-ground);">
  <!-- ๐น ุงูุนููุงู + ุงูููุงุชุฑ -->
  <div class="flex flex-col justify-center mb-4 gap-2">

    <div class="flex items-center gap-2 mb-3">
      <input
        type="date"
        class="input input-bordered input-sm"
        style="border-color: var(--surface-border); background-color: var(--surface-card); color: var(--text-color);"
        [(ngModel)]="startDate"
      />
      <input
        type="date"
        class="input input-bordered input-sm"
        style="border-color: var(--surface-border); background-color: var(--surface-card); color: var(--text-color);"
        [(ngModel)]="endDate"
      />

      <!-- ๐ธ ุญูู ุงููุญููุฉ -->
      <input
        type="text"
        placeholder="ุงุฎุชุฑ ุงููุญููุฉ..."
        class="input input-bordered input-sm w-48"
        style="border-color: var(--surface-border); background-color: var(--surface-card); color: var(--text-color);"
        [(ngModel)]="selectedCourt"
        readonly
        (click)="openCourtsModal()"
      />

      <!-- ๐ธ ุงูุฃุฒุฑุงุฑ -->
      <button class="btn btn-sm btn-primary" (click)="applyFilters()">ุงุณุชุนูุงู</button>
      <button class="btn btn-sm btn-outline" (click)="printTable()">ุทุจุงุนุฉ</button>
      <button class="btn btn-sm btn-success" (click)="exportToExcel()">Excel</button>
      <button class="btn btn-sm btn-warning" (click)="filterUnuploaded()">ุฅุฌุฑุงุกุงุช ูู ุชุฑูุน</button>
    </div>

    <!-- ๐ ุงูุจุญุซ -->
    <div>
      <input
        type="text"
        placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูููุฏ ุฃู ุงููุญููุฉ..."
        class="input input-bordered w-full"
        style="border-color: var(--surface-border); background-color: var(--surface-card); color: var(--text-color);"
        [(ngModel)]="searchTerm"
        (input)="applyFilters()"
      />
    </div>
  </div>

  <!-- ุงูุฌุฏูู -->
  <div class="overflow-x-auto rounded-xl shadow"
       style="background-color: var(--surface-card);">
    <table class="table table-sm w-full text-sm">
      <thead style="background-color: var(--surface-section); color: var(--text-color);"
             class="font-semibold">
        <tr>
          <th>ุงูููุฏ</th>
          <th>ุงูุงุณู</th>
          <th>ุงูุญุงูุฉ</th>
          <th>ุณุจุจ ุงููุฏููููุฉ</th>
          <th>ุงููุฏูู</th>
          <th>ุงูุขูู</th>
          <th>ุงูุฌูุณูุฉ</th>
          <th>ุฑูู ุงูุจุงุชุด</th>
          <th>ุงููููู</th>
          <th>ุงูุชุงุฑูุฎ</th>
          <th>ุชุงุฑูุฎ ุงูุฅุฌุฑุงุก</th>
          <th>ุชุงุฑูุฎ ุงููุฑุงุฌุนุฉ</th>
          <th>ููุงุญุธุงุช</th>
          <th>ุงูู ID</th>
          <th>ุงูุฅุฌุฑุงุก</th>
          <th>ุงูุฅุฌุฑุงุก ุงููุงุฏู</th>
          <th>ููุงู ุงูููู</th>
          <th>ุงููุญููุฉ</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let record of paginatedRecords; let i = index"
            [style.background-color]="i % 2 === 0 ? 'var(--surface-card)' : 'var(--surface-ground)'"
            style="color: var(--text-color); transition: background-color 0.2s;">
          <td>{{ record.code }}</td>
          <td>{{ record.name }}</td>
          <td>{{ record.status }}</td>
          <td>{{ record.debtReason }}</td>
          <td>{{ record.civilId }}</td>
          <td>{{ record.autoId }}</td>
          <td>{{ record.nationality }}</td>
          <td>{{ record.batchNumber }}</td>
          <td>{{ record.agent }}</td>
          <td>{{ record.date | date : 'yyyy-MM-dd' }}</td>
          <td>{{ record.actionDate | date : 'yyyy-MM-dd' }}</td>
          <td>{{ record.reviewDate | date : 'yyyy-MM-dd' }}</td>
          <td>{{ record.notes }}</td>
          <td>{{ record.id }}</td>
          <td>{{ record.action }}</td>
          <td>{{ record.nextAction }}</td>
          <td>{{ record.location }}</td>
          <td>{{ record.court }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="flex justify-between items-center mt-4">
    <button
      class="btn btn-sm btn-outline"
      (click)="prevPage()"
      [disabled]="currentPage === 1"
    >
      ุงูุณุงุจู
    </button>
    <span class="font-semibold"
          style="color: var(--primary-color);">
      ุงูุตูุญุฉ {{ currentPage }} ูู
      {{ Math.ceil(filteredRecords.length / pageSize) }}
    </span>
    <button
      class="btn btn-sm btn-outline"
      (click)="nextPage()"
      [disabled]="currentPage * pageSize >= filteredRecords.length"
    >
      ุงูุชุงูู
    </button>
  </div>

  <!-- ุงูููุฏุงู -->
  <app-lookup-modal (itemSelected)="onCourtSelected($event)"></app-lookup-modal>
</div>
