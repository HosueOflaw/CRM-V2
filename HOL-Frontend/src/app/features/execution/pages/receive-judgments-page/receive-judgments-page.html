<app-go-back></app-go-back>
<div class="p-6 min-h-screen flex flex-col gap-6"
     style="background-color: var(--surface-ground);">
  <!-- ๐น ุงูุนููุงู -->
  <h2 class="text-2xl font-bold text-center"
      style="color: var(--primary-color);">๐ ุงุณุชูุงู ุงูุฃุญูุงู</h2>
  
  <!-- ๐น ูููุฐุฌ ุงูุจุญุซ -->
  <form [formGroup]="filterForm" class="p-6 rounded-xl shadow flex flex-wrap gap-4 justify-center items-end"
        style="background-color: var(--surface-card);">
    <div>
      <label class="label font-semibold" style="color: var(--text-color);">ูู ุชุงุฑูุฎ</label>
      <input type="date" formControlName="fromDate"
             class="input input-bordered w-full"
             style="border-color: var(--surface-border); background-color: var(--surface-ground); color: var(--text-color);" />
    </div>

    <div>
      <label class="label font-semibold" style="color: var(--text-color);">ุฅูู ุชุงุฑูุฎ</label>
      <input type="date" formControlName="toDate"
             class="input input-bordered w-full"
             style="border-color: var(--surface-border); background-color: var(--surface-ground); color: var(--text-color);" />
    </div>

    <div class="flex gap-2 mt-4">
      <button type="button" class="btn btn-primary" (click)="search()">๐ ุจุญุซ</button>
      <button type="button" class="btn btn-outline" (click)="reset()">โฉ๏ธ ุชุฑุงุฌุน</button>
      
    </div>
  </form>

  <!-- ๐น ุญูู ุงูุจุญุซ ุฏุงุฎู ุงูุฌุฏูู -->
  <div class="flex justify-between items-center p-4 rounded-xl shadow"
       style="background-color: var(--surface-card);">
    <input [(ngModel)]="searchText" placeholder="ุงุจุญุซ ุจุงูููุฏ ุฃู ุงูุงุณู ุฃู ุงููุญููุฉ" (input)="autoSearch()"
           class="input input-bordered w-1/2"
           style="border-color: var(--surface-border); background-color: var(--surface-ground); color: var(--text-color);" />
    <button class="btn btn-success" (click)="exportToExcel()">๐ฅ ุชุญููู Excel</button>
  </div>

  <!-- ๐น ุฌุฏูู ุงููุชุงุฆุฌ -->
  <div class="overflow-x-auto rounded-xl shadow"
       style="background-color: var(--surface-card);">
    <table class="table table-zebra w-full text-sm"
           style="border-color: var(--surface-border);">
      <thead>
        <tr style="background-color: var(--surface-section);">
          <th style="color: var(--text-color);">ุงูููุฏ</th>
          <th style="color: var(--text-color);">ุงููููู</th>
          <th style="color: var(--text-color);">ุงูุงุณู</th>
          <th style="color: var(--text-color);">ุงููุญููุฉ</th>
          <th style="color: var(--text-color);">ุงูุฑูู ุงูุขูู</th>
          <th style="color: var(--text-color);">ุฃูู ุฏุฑุฌุฉ</th>
          <th style="color: var(--text-color);">ุงูุงุณุชุฆูุงู</th>
          <th style="color: var(--text-color);">ุงูุชูููุฒ</th>
          <th style="color: var(--text-color);">ุงูุฏุงุฆุฑุฉ</th>
          <th style="color: var(--text-color);">ุชุงุฑูุฎ ุงูุญูู</th>
          <th style="color: var(--text-color);">ููุทูู ุงูุญูู</th>
          <th style="color: var(--text-color);">ูููุฉ ุงููุทุงูุจุฉ</th>
          <th style="color: var(--text-color);">ุงูุฏุฑุฌุฉ</th>
          <th style="color: var(--text-color);">ุงูุญุถูุฑ</th>
          <th style="color: var(--text-color);">ุงูููุธู</th>
          <th style="color: var(--text-color);">ุฑูู ุงูุจุงุชุด</th>
          <th style="color: var(--text-color);">ุงูุญุงูุฉ</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let r of filteredResults; let i = index"
            [style.background-color]="i % 2 === 0 ? 'var(--surface-card)' : 'var(--surface-ground)'"
            style="color: var(--text-color);">
          <td>{{ r.code }}</td>
          <td>{{ r.client }}</td>
          <td>{{ r.name }}</td>
          <td>{{ r.court }}</td>
          <td>{{ r.autoNumber }}</td>
          <td>{{ r.firstDegree }}</td>
          <td>{{ r.appeal }}</td>
          <td>{{ r.cassation }}</td>
          <td>{{ r.circle }}</td>
          <td>{{ r.judgmentDate | date:'yyyy-MM-dd' }}</td>
          <td>{{ r.judgmentText }}</td>
          <td>{{ r.claimValue | number }}</td>
          <td>{{ r.degree }}</td>
          <td>{{ r.attendance }}</td>
          <td>{{ r.employee }}</td>
          <td>{{ r.batchNumber }}</td>
          <td>{{ r.status }}</td>
        </tr>

        <tr *ngIf="filteredResults.length === 0">
          <td colspan="17" class="text-center py-6"
              style="color: var(--text-color-secondary);">ูุง ุชูุฌุฏ ุจูุงูุงุช ูุทุงุจูุฉ ๐</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
