<div class="statementForm flex flex-col gap-6 bg-base-100 p-6 rounded-xl shadow-sm">

  <!-- โ ูููุฐุฌ ุงูุจูุงูุงุช -->
  <form [formGroup]="statementForm" class="grid grid-cols-1 md:grid-cols-3 gap-4">

    <!-- ุงูููุฏ + ุฒุฑ ุงูุจุญุซ -->
    <div class="flex items-end gap-2">
      <div class="flex-1">
        <label class="label text-gray-700 font-semibold">ุงูููุฏ</label>
        <input type="text" formControlName="code" class="input input-bordered w-full" />
      </div>
      <button type="button" class="btn btn-primary mt-6" (click)="searchByCode()">๐</button>
    </div>

    <!-- ุจุงูู ุงูุญููู -->
    <div *ngFor="let field of fieldList">
      <label class="label text-gray-700 font-semibold">{{ labels[field] }}</label>
      <input
        [type]="field === 'date' ? 'date' : field === 'amount' ? 'number' : 'text'"
        formControlName="{{field}}"
        class="input input-bordered w-full"
      />
    </div>

    <!-- ุงููุญููุฉ -->
    <div>
      <label class="label text-gray-700 font-semibold">ุงููุญููุฉ</label>
      <select formControlName="court" class="select select-bordered w-full">
        <option value="">ุงุฎุชุฑ ุงููุญููุฉ</option>
        <option *ngFor="let court of courts" [value]="court">{{ court }}</option>
      </select>
    </div>

    <!-- ููุงุญุธุงุช -->
    <div class="col-span-3">
      <label class="label text-gray-700 font-semibold">ููุงุญุธุงุช</label>
      <textarea formControlName="notes" rows="4" class="textarea textarea-bordered w-full"></textarea>
    </div>
  </form>
  <!-- โ ุฌุฏูู ุงููุชุงุฆุฌ -->
  <div class="bg-base-100 p-6 rounded-xl shadow-sm">
    <div class="flex gap-2 mb-4">
      <input [(ngModel)]="query" placeholder="ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูููุฏ" class="input input-bordered w-full" />
      <button class="btn btn-primary" (click)="search()">ุจุญุซ</button>
    </div>

    <table class="table table-zebra w-full">
      <thead>
        <tr>
          <th>ุงูููุฏ</th>
          <th>ุงูุงุณู</th>
          <th>ุงูุฑูู ุงูุขูู</th>
          <th>ุงูุญุงูุฉ</th>
          <th>ุงููุจูุบ</th>
          <th>ุงููุญููุฉ</th>
          <th>ุงูุชุงุฑูุฎ</th>
          <th>ุฅุฌุฑุงุก</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let s of statements; let i = index">
          <td>{{s.code}}</td>
          <td>{{s.name}}</td>
          <td>{{s.autoNumber}}</td>
          <td>{{s.status}}</td>
          <td>{{s.amount}}</td>
          <td>{{s.court}}</td>
          <td>{{s.date}}</td>
          <td>
            <button class="btn btn-error btn-xs" (click)="deleteStatement(i)">ุญุฐู</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>


  <!-- โ ุฃุฒุฑุงุฑ ุงูุชุญูู -->
  <div class="flex justify-end gap-3 mt-4">
    <button class="btn btn-success" *ngIf="mode === 'add'" class="btn btn-outline" (click)="save()">๐พ ุญูุธ</button>
    <button class="btn btn-warning" *ngIf="mode === 'add'" class="btn btn-outline" (click)="edit()">โ๏ธ ุชุนุฏูู</button>
    <button class="btn btn-error" *ngIf="mode === 'add' || mode === 'inquiry'" (click)="delete()">๐๏ธ ุญุฐู</button>
    <button class="btn btn-outline" *ngIf="mode === 'add'" class="btn btn-outline" (click)="print()">๐จ๏ธ ุทุจุงุนุฉ</button>
    <button class="btn btn-neutral" *ngIf="mode === 'add'" class="btn btn-outline" (click)="reset()">โฉ๏ธ ุชุฑุงุฌุน</button>
  </div>
</div>
