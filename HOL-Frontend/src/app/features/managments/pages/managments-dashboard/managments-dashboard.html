<div class="page-container">
  <div class="page-header">
    <h1>ููุญุฉ ูุชุงุจุนุฉ ุงูุฃุฏุงุก ูุงูุฅุญุตุงุฆูุงุช</h1>
  </div>

  <!-- KPIs -->
  <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-6">
    <div class="card text-center">
      <div class="card-body">
        <p style="color: var(--text-color-secondary);">ุฅุฌูุงูู ุงูุฑุณูู</p>
        <h2 style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">21,500 ุฏ.ู</h2>
      </div>
    </div>
    <div class="card text-center">
      <div class="card-body">
        <p style="color: var(--text-color-secondary);">ุฅุฌูุงูู ุงูุนูููุฉ</p>
        <h2 style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">5,100 ุฏ.ู</h2>
      </div>
    </div>
    <div class="card text-center">
      <div class="card-body">
        <p style="color: var(--text-color-secondary);">ุงููููุงุช ุงูุฌุงูุฒุฉ ูููุญููุฉ</p>
        <h2 style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">14 ููู</h2>
      </div>
    </div>
    <div class="card text-center">
      <div class="card-body">
        <p style="color: var(--text-color-secondary);">ุงูุนููุงุก ุงููุบุงุฏุฑูู</p>
        <h2 style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">6</h2>
      </div>
    </div>
  </div>
  
  <!-- Cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
    <div class="card cursor-pointer" (click)="openChart('companyChart')">
      <div class="card-body">
        <h3 class="font-semibold mb-2">ููุงุฑูุฉ ุงูุดุฑูุงุช</h3>
        <p style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">21,500 ุฏ.ู</p>
        <p style="color: var(--text-color-secondary); font-size: 0.875rem;">ุงุถุบุท ูุนุฑุถ ุงูุชูุงุตูู</p>
      </div>
    </div>
    <div class="card cursor-pointer" (click)="openChart('employeeChart')">
      <div class="card-body">
        <h3 class="font-semibold mb-2">ุฃุฏุงุก ุงูููุธููู</h3>
        <p style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">+18%</p>
        <p style="color: var(--text-color-secondary); font-size: 0.875rem;">ุงุถุบุท ูุนุฑุถ ุงูุชูุงุตูู</p>
      </div>
    </div>
    <div class="card cursor-pointer" (click)="openChart('debtChart')">
      <div class="card-body">
        <h3 class="font-semibold mb-2">ูุฏููููุฉ ุงูุดุฑูุงุช</h3>
        <p style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">12,000 ุฏ.ู</p>
        <p style="color: var(--text-color-secondary); font-size: 0.875rem;">ุงุถุบุท ูุนุฑุถ ุงูุชูุงุตูู</p>
      </div>
    </div>
    <div class="card cursor-pointer" (click)="openChart('clientsGrowthChart')">
      <div class="card-body">
        <h3 class="font-semibold mb-2">ููู ุงูุนููุงุก</h3>
        <p style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">+35%</p>
        <p style="color: var(--text-color-secondary); font-size: 0.875rem;">ุงุถุบุท ูุนุฑุถ ุงูุชูุงุตูู</p>
      </div>
    </div>
    <div class="card cursor-pointer" (click)="openChart('monthlyRevenueChart')">
      <div class="card-body">
        <h3 class="font-semibold mb-2">ุงูุฅูุฑุงุฏุงุช ุงูุดูุฑูุฉ</h3>
        <p style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">56,000 ุฏ.ู</p>
        <p style="color: var(--text-color-secondary); font-size: 0.875rem;">ุงุถุบุท ูุนุฑุถ ุงูุชูุงุตูู</p>
      </div>
    </div>
    <div class="card cursor-pointer" (click)="openChart('casesSolvedChart')">
      <div class="card-body">
        <h3 class="font-semibold mb-2">ุงููุถุงูุง ุงูููุฌุฒุฉ</h3>
        <p style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">87%</p>
        <p style="color: var(--text-color-secondary); font-size: 0.875rem;">ุงุถุบุท ูุนุฑุถ ุงูุชูุงุตูู</p>
      </div>
    </div>
  </div>


  <!-- Filters & Stat Cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
    <div class="card">
      <div class="card-header">
        <h3>ุญุงูุฉ ุงููุฑุตุฉ</h3>
        <select class="form-select" style="width: auto;">
          <option>All Pipelines</option>
          <option>Active</option>
          <option>Closed</option>
        </select>
      </div>
      <div class="card-body">
        <div class="flex flex-col items-center justify-center" style="min-height: 160px;">
          <div style="width: 2.5rem; height: 2.5rem; border-radius: 50%; background: var(--surface-hover); display: flex; align-items: center; justify-content: center; margin-bottom: 0.5rem;"></div>
          <p style="color: var(--text-color-secondary); font-weight: 500;">No Data Found</p>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h3>ูุธุฑุฉ ุนุงูุฉ</h3>
        <select class="form-select" style="width: auto;">
          <option>All Pipelines</option>
          <option>Pending</option>
          <option>Won</option>
        </select>
      </div>
      <div class="card-body">
        <div class="flex flex-col items-center justify-center" style="min-height: 160px;">
          <div style="width: 2.5rem; height: 2.5rem; border-radius: 50%; background: var(--surface-hover); display: flex; align-items: center; justify-content: center; margin-bottom: 0.5rem;"></div>
          <p style="color: var(--text-color-secondary); font-weight: 500;">No Data Found</p>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-header">
        <h3>ูุนุฏู ุงูุชุบูุฑ</h3>
        <select class="form-select" style="width: auto;">
          <option>All Pipelines</option>
          <option>Q1</option>
          <option>Q2</option>
        </select>
      </div>
      <div class="card-body">
        <div class="flex flex-col items-center justify-center">
          <p style="color: var(--primary-color); font-size: 1.5rem; font-weight: 700;">0 ุฏ.ู</p>
          <div class="flex items-center" style="color: var(--green-500); font-size: 0.875rem; margin-top: 0.25rem;">
            <span style="margin-left: 0.25rem;">โ</span>
            <span>0% vs Last 31 Days</span>
          </div>
          <div class="relative mt-4">
            <svg style="width: 6rem; height: 6rem; transform: rotate(-90deg);">
              <circle style="color: var(--surface-border);" stroke-width="6" stroke="currentColor" fill="transparent" r="40" cx="50%" cy="50%" />
              <circle style="color: var(--primary-color);" stroke-width="6" stroke-linecap="round" stroke="currentColor" fill="transparent" r="40" cx="50%" cy="50%" stroke-dasharray="251.2" stroke-dashoffset="251.2" />
            </svg>
            <span style="position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; font-size: 1.125rem; font-weight: 600;">
              0%
            </span>
          </div>
          <p style="margin-top: 0.75rem; font-size: 0.875rem; color: var(--text-color-secondary);">Won revenue</p>
          <p style="font-weight: 600; color: var(--primary-color);">0 ุฏ.ู</p>
        </div>
      </div>
    </div>
  </div>

  <div class="card mb-6">
    <div class="card-header">
      <h3>ุงุญุตุงุฆูุงุช</h3>
    </div>
    <div class="card-body">
      <div class="grid grid-cols-2 gap-4 text-center">
        <div>
          <p style="color: var(--text-color-secondary);">Total</p>
          <h2 style="color: var(--primary-color); font-size: 1.25rem; font-weight: 700;">0</h2>
        </div>
        <div>
          <p style="color: var(--text-color-secondary);">Total</p>
          <h2 style="color: var(--primary-color); font-size: 1.25rem; font-weight: 700;">0 ุฏ.ู</h2>
        </div>
        <div>
          <p style="color: var(--text-color-secondary);">CPC</p>
          <h2 style="color: var(--primary-color); font-size: 1.25rem; font-weight: 700;">0 ุฏ.ู</h2>
        </div>
        <div>
          <p style="color: var(--text-color-secondary);">CTR</p>
          <h2 style="color: var(--primary-color); font-size: 1.25rem; font-weight: 700;">0%</h2>
        </div>
      </div>
    </div>
  </div>

  <!-- Charts -->
  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="card">
      <div class="card-header">
        <h3>๐ ููุงุฑูุฉ ุงูุดุฑูุงุช</h3>
      </div>
      <div class="card-body">
        <canvas id="companyChart"></canvas>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        <h3>๐ฅง ุชูุฒูุน ุงูุญุงูุงุช</h3>
      </div>
      <div class="card-body">
        <canvas id="statusChart"></canvas>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        <h3>๐ ุฃุฏุงุก ุงูููุธููู</h3>
      </div>
      <div class="card-body">
        <canvas id="employeeChart"></canvas>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        <h3>๐ ูุฏููููุฉ ุงูุดุฑูุงุช</h3>
      </div>
      <div class="card-body">
        <canvas id="debtChart"></canvas>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        <h3>๐ ูุดุงุท ุงููุถุงูุง ุงูุดูุฑู</h3>
      </div>
      <div class="card-body">
        <canvas id="casesChart"></canvas>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        <h3>๐ผ ุฃุฏุงุก ุงูุฅุฏุงุฑุงุช</h3>
      </div>
      <div class="card-body">
        <canvas id="departmentChart"></canvas>
      </div>
    </div>
  </div>
</div>

<!-- Popup Modal -->
<dialog *ngIf="selectedChart" class="modal" [open]="true">
  <div class="modal-box modal-lg">
    <div class="modal-header">
      <h3>{{ chartTitles[selectedChart] }}</h3>
      <button class="modal-close" (click)="closeChart()">โ</button>
    </div>
    <div class="modal-body">
      <canvas [id]="selectedChart + '_popup'" style="width:100%;height:400px;"></canvas>
    </div>
  </div>
</dialog>
